(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{105:function(e,t,n){e.exports={spinner:"Spinner_styled_spinner__Lf3rT"}},108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(3),r=n(18),o=n(80),s=n(9),u=n(16),i=n.n(u),l=n(22),b=n(19),m=n.n(b),j=n(8),p=function(e){return e.contacts.items},f=function(e){return e.contacts.filter},h=function(e){return e.contacts.loading},O=function(e){var t=p(e),n=f(e).toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))},d=n(82),x=n.n(d),v=n(1),_={name:"",number:""},N=function(){var e=Object(a.useState)(_),t=Object(o.a)(e,2),n=t[0],u=t[1],b=Object(s.c)(),f=Object(s.d)(p),h=function(e){u(Object(r.a)(Object(r.a)({},n),{},Object(c.a)({},e.target.name,e.target.value)))};return Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n.name,n.number);var t=f.find((function(e){return e.name===n.name})),a=f.find((function(e){return e.number===n.number}));t?alert("This contact NAME already exists\n         as Name:".concat(t.name," Tel:").concat(t.number)):a?alert("This contact NUMBER already exists as\n         Tel:".concat(a.number," Name:").concat(a.name)):n.name?n.number?(b(function(e){var t=e.name,n=e.number;return function(){var e=Object(l.a)(i.a.mark((function e(a){var c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={name:t,number:n},console.log(c),a(Object(j.b)()),e.prev=3,e.next=6,m.a.post("/contacts",c);case 6:r=e.sent,o=r.data,console.log(o),a(Object(j.c)(o)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),a(Object(j.a)(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()}({name:n.name,number:n.number})),u({name:"",number:""})):alert("Please, enter the contact number"):alert("Please, enter the contact name")},className:x.a.contactForm,children:[Object(v.jsxs)("label",{htmlFor:"name",className:x.a.label,children:["Name",Object(v.jsx)("input",{name:"name",type:"text",className:x.a.contactInput,placeholder:"insert name",onChange:h,value:n.name})]}),Object(v.jsxs)("label",{htmlFor:"number",className:x.a.label,children:["Number",Object(v.jsx)("input",{name:"number",type:"text",className:x.a.contactInput,placeholder:"insert number",onChange:h,value:n.number})]}),Object(v.jsx)("button",{type:"submit",className:x.a.btn,children:"Add contact"})]})},g=n(83),w=n.n(g),k=function(e){var t=e.id,n=e.name,a=e.number,c=Object(s.c)();return Object(v.jsxs)("li",{className:w.a.contactListItem,children:[Object(v.jsx)("span",{className:"contactName",children:n}),Object(v.jsxs)("span",{className:"contactNumber",children:[" ",a]}),Object(v.jsx)("button",{onClick:function(){return c(function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(j.i)()),t.prev=1,t.next=4,m.a.delete("/contacts/".concat(e));case 4:n(Object(j.j)(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(Object(j.h)(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},className:w.a.btnRemove,children:"Delete"})]})},F=function(e){var t=e.contacts;return Object(v.jsx)("ul",{className:"contactsList",children:t.map((function(e){var t=e.name,n=e.number,a=e.id;return Object(v.jsx)(k,{id:a,name:t,number:n},a)}))})},C=n(84),y=n.n(C),I=function(e){var t=e.handleChange,n=Object(s.c)(),a=Object(s.d)(f);return t=function(e){n(Object(j.d)(e.target.value))},Object(v.jsxs)("label",{className:y.a.label,children:["Find contacts by name",Object(v.jsx)("input",{className:y.a.inputFilter,name:"filter",type:"text",placeholder:"search contact",onChange:t,value:a})]})},L=(n(81),n(85)),T=n.n(L),A=n(86),P=n.n(A),R=n(105),S=n.n(R),D=function(e){var t=e.loading;return Object(v.jsx)(P.a,{className:S.a.spinner,visible:t,type:"ThreeDots",color:"white",height:80,width:80,timeout:1800})};t.default=function(){var e=Object(s.d)(O),t=Object(s.d)(h),n=Object(s.c)();return Object(a.useEffect)((function(){n(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(j.f)()),e.prev=1,e.next=4,m.a.get("/contacts");case 4:n=e.sent,a=n.data,console.log(a),t(Object(j.g)(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(Object(j.e)(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(v.jsxs)("div",{className:T.a.container,children:[Object(v.jsx)("h1",{className:"titlePhonebook",children:"Phonebook"}),Object(v.jsx)(N,{}),Object(v.jsx)("h2",{className:"title",children:"Contacts list"}),!!e.length&&Object(v.jsx)(I,{}),Object(v.jsx)(F,{contacts:e}),Object(v.jsx)(D,{loading:t})]})}},82:function(e,t,n){e.exports={contactForm:"ContactForm_contactForm__1yP2n",label:"ContactForm_label__2nkKH",contactInput:"ContactForm_contactInput__1KauY",btn:"ContactForm_btn__11o4p"}},83:function(e,t,n){e.exports={btnRemove:"ContactListItem_btnRemove__3VdwA",contactListItem:"ContactListItem_contactListItem__q6pX7"}},84:function(e,t,n){e.exports={label:"Filter_label__2Ycfa",inputFilter:"Filter_inputFilter__3nRxw"}},85:function(e,t,n){e.exports={container:"App_container__S2Skx",root:"App_root__2Hjdt"}}}]);
//# sourceMappingURL=4.5738b6e9.chunk.js.map